<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Static Template</title>
  </head>
  <body>
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>         <!-- React를 사용하기위한 링크-->
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>  <!-- React를 사용하기위한 링크-->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>      <!-- Babel 컴파일러를 사용하기위한 링크-->
    <div id="root">
    </div>
    <div id ="root2"></div>

    <script type="text/babel">
      const rootElement = document.getElementById("root");

      const App = () => {
        console.log("App render start");
        const [show, setShow]=React.useState(()=> {

          console.log("APP useState");
          return false;
        });

        // function handleClick()
        // {
        //   if(show === true)
        //   {
        //     setShow(false);
        //   }
        //   else{
        //     setShow(true);
        //   }
        // }
          //useEffect는 render 이후에 수정된다 -> 사이드이펙트이기때문에 다 그려진후에 수정된다.
        React.useEffect(()=>{
          console.log("APP useeffect empty deps"); //처음에만 반응
        }, []);
        React.useEffect(()=>{

          console.log("APP useeffect no deps"); //모든경우에 반응
        });
        React.useEffect(()=>{
          console.log("APP useeffect show"); //배열에 준 디펜던시만 반응
        }, [show]);
        function handleClick()
        {
          setShow( (prev) => !prev);  //usestate는 이전값을 저장하고 있다.
        }
        return (
          <>
          <button onClick={handleClick}>Search</button>
          { show ? (
            <>
          <input />
          <p></p>
          </>) : null
          }
          </>
        );
      };
        ReactDOM.render(<App />,rootElement); 
        console.log("render");
    </script>
    
  </body>
</html>